extends layout

block content
  h1= title
  h2= subtitle

  if lastUpdated
    p Última actualización: #{lastUpdated}

  if exchangeRates
    ul.exchange-rates
      each rate, currency in exchangeRates
        li #{currency}: #{rate.toFixed(2)}

  form.converter-form(action="/convert" method="POST")
    .form-row
      .form-group
        label(for="amount") Cantidad
        input#amount(type="text" name="amount" placeholder="Ingresa la cantidad" required)
    .form-row
      .form-group
        label Desde la Divisa
        select(name="fromCurrency")
          option(value="USD" selected) USD
          option(value="EUR") EUR
          option(value="JPY") JPY
          option(value="BTC") BTC
          option(value="ETH") ETH
          each currency in Object.keys(exchangeRates)
            if !['USD', 'EUR', 'JPY', 'BTC', 'ETH'].includes(currency)
              option(value=currency)= currency
      .form-group
        label A la Divisa
        select(name="toCurrency")
          option(value="USD") USD
          option(value="EUR" selected) EUR
          option(value="JPY") JPY
          option(value="BTC") BTC
          option(value="ETH") ETH
          each currency in Object.keys(exchangeRates)
            if !['USD', 'EUR', 'JPY', 'BTC', 'ETH'].includes(currency)
              option(value=currency)= currency
    .form-row
      button.convert-button(type="submit") Convertir

  if result
    .result
      p= result

  if error
    .error
      p= error
