extends layout

block content
  h1= title
  h2= subtitle

  form.converter-form(action="/convert" method="POST")
    .form-row
      .form-group
        label(for="amount") Cantidad
        input#amount(type="text" name="amount" placeholder="Ingresa la cantidad" required)
    .form-row
      .form-group
        label Desde la Divisa
        select(name="fromCurrency")
          // Monedas tradicionales
          option(value="USD") USD
          option(value="EUR") EUR
          option(value="JPY") JPY
          option(value="GBP") GBP
          option(value="AUD") AUD
          // Criptomonedas
          option(value="BTC") BTC (Bitcoin)
          option(value="ETH") ETH (Ethereum)
          option(value="ADA") ADA (Cardano)
          option(value="BNB") BNB (Binance Coin)
          option(value="SOL") SOL (Solana)
          option(value="XRP") XRP (Ripple)
          option(value="DOGE") DOGE (Dogecoin)
          option(value="DOT") DOT (Polkadot)
          option(value="LTC") LTC (Litecoin)
          option(value="TRX") TRX (Tron)
          option(value="SHIB") SHIB (Shiba Inu)
          option(value="LINK") LINK (Chainlink)
          option(value="XLM") XLM (Stellar)
          option(value="XMR") XMR (Monero)
          option(value="SAND") SAND (The Sandbox)
          option(value="ATOM") ATOM (Cosmos)
          option(value="ALGO") ALGO (Algorand)
          option(value="VET") VET (VeChain)
          option(value="XTZ") XTZ (Tezos)
          option(value="APE") APE (ApeCoin)
          option(value="MANA") MANA (Decentraland)
          option(value="AXS") AXS (Axie Infinity)
          option(value="FIL") FIL (Filecoin)
          option(value="ZEC") ZEC (Zcash)
          option(value="UNI") UNI (Uniswap)
          option(value="LUNA") LUNA (Terra Luna)
          option(value="FTT") FTT (FTX Token)
          option(value="GRT") GRT (The Graph)
          option(value="FTM") FTM (Fantom)
          option(value="KCS") KCS (KuCoin Shares)
          option(value="HT") HT (Huobi Token)
          option(value="CHZ") CHZ (Chiliz)
          option(value="CRO") CRO (Crypto.com Coin)
          option(value="OKB") OKB (OKB Token)
      .form-group
        label A la Divisa
        select(name="toCurrency")
          // Monedas tradicionales
          option(value="USD") USD
          option(value="EUR") EUR
          option(value="JPY") JPY
          option(value="GBP") GBP
          option(value="AUD") AUD
          // Criptomonedas
          option(value="BTC") BTC (Bitcoin)
          option(value="ETH") ETH (Ethereum)
          option(value="ADA") ADA (Cardano)
          option(value="BNB") BNB (Binance Coin)
          option(value="SOL") SOL (Solana)
          option(value="XRP") XRP (Ripple)
          option(value="DOGE") DOGE (Dogecoin)
          option(value="DOT") DOT (Polkadot)
          option(value="LTC") LTC (Litecoin)
          option(value="TRX") TRX (Tron)
          option(value="SHIB") SHIB (Shiba Inu)
          option(value="LINK") LINK (Chainlink)
          option(value="XLM") XLM (Stellar)
          option(value="XMR") XMR (Monero)
          option(value="SAND") SAND (The Sandbox)
          option(value="ATOM") ATOM (Cosmos)
          option(value="ALGO") ALGO (Algorand)
          option(value="VET") VET (VeChain)
          option(value="XTZ") XTZ (Tezos)
          option(value="APE") APE (ApeCoin)
          option(value="MANA") MANA (Decentraland)
          option(value="AXS") AXS (Axie Infinity)
          option(value="FIL") FIL (Filecoin)
          option(value="ZEC") ZEC (Zcash)
          option(value="UNI") UNI (Uniswap)
          option(value="LUNA") LUNA (Terra Luna)
          option(value="FTT") FTT (FTX Token)
          option(value="GRT") GRT (The Graph)
          option(value="FTM") FTM (Fantom)
          option(value="KCS") KCS (KuCoin Shares)
          option(value="HT") HT (Huobi Token)
          option(value="CHZ") CHZ (Chiliz)
          option(value="CRO") CRO (Crypto.com Coin)
          option(value="OKB") OKB (OKB Token)
          

    .form-row
      button.convert-button(type="submit") Convertir

  if result
    .result
      h3 Resultado
      p= result

  if fromDetails
    h3 Informaci贸n de la moneda de origen (#{fromDetails.name || fromDetails.symbol || 'No disponible'})
    ul
      if fromDetails.current_price
        li Precio actual: $#{fromDetails.current_price.toLocaleString()}
        li Capitalizaci贸n de mercado: $#{fromDetails.market_cap.toLocaleString()}
        li Volumen de trading (24h): $#{fromDetails.total_volume.toLocaleString()}
        li Cambio en 24h: #{fromDetails.price_change_percentage_24h.toFixed(2)}%
      else if fromDetails.rate
        li Tasa de cambio: $#{fromDetails.rate.toLocaleString()}

  if toDetails
    h3 Informaci贸n de la moneda de destino (#{toDetails.name || toDetails.symbol || 'No disponible'})
    ul
      if toDetails.current_price
        li Precio actual: $#{toDetails.current_price.toLocaleString()}
        li Capitalizaci贸n de mercado: $#{toDetails.market_cap.toLocaleString()}
        li Volumen de trading (24h): $#{toDetails.total_volume.toLocaleString()}
        li Cambio en 24h: #{toDetails.price_change_percentage_24h.toFixed(2)}%
      else if toDetails.rate
        li Tasa de cambio: $#{toDetails.rate.toLocaleString()}

  if error
    .error
      p= error
